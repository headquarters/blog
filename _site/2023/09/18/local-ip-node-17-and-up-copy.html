<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--
               _
              | |
              | |
           ___|  \____
          |___]   
         |____]     
          |___]    |___
           |___]__/
           
           Cool.
        -->
    <title>
      Using an IP address locally with Node.js 17+ | Michael Head
    </title>
    <meta
      name="description"
      content="Try this out: you can access your SvelteKit app locally at http://[::1]:5173…crazy looking address, huh?"
    />
    <link rel="shortcut icon" href="/images/favicon.png" type="image/png" />
    <link rel="stylesheet" href="/css/main.css">

    <link
      rel="canonical"
      href="https://www.michaelehead.com/2023/09/18/local-ip-node-17-and-up-copy.html"
    />
    <link rel="alternate" type="application/rss+xml" title="Michael's Headquarters"
    href="https://www.michaelehead.com/feed.xml" />
  </head>
  <body></body>
</html>


<div class="site-header">
    <a href="#main" id="go-to-main" class="site-header--content-link">Go to content &darr;</a>
    <header class="site-header--titles">
        <h1 class="site-header--title">Michael's Headquarters</h1>
        <h2 class="site-header--subtitle">On UX Design and Development</h2>
    </header>
    <nav class="main-nav">
        <ul class="main-nav--list">
          <li class="main-nav--list-item "><a class="main-nav--link" href="/">About</a></li>
          <li class="main-nav--list-item active"><a class="main-nav--link" href="/blog/">Blog</a></li>
        </ul>
    </nav>        
</div>

<main id="main" class="blog">
  <div class="post content nodejs-dns">
	<header class="post-header">
        <h1 class="post-title">Using an IP address locally with Node.js 17+</h1>
        <time class="post-date" datetime="">
            Sep 18, 2023
        </time>
    </header>
	<article class="post-content">
	<p>Try this out: you can access your SvelteKit app locally at <code class="language-plaintext highlighter-rouge">http://[::1]:5173</code>…crazy looking address, huh?</p>

<p>The following is information specific to a SvelteKit app running on macOS but should apply to any app that runs Node.js 17 or up for a server.</p>

<p>When running a SvelteKit app locally, it gives your app the default address of <code class="language-plaintext highlighter-rouge">localhost:5173</code>. Normally, this would mean you could access the site at <code class="language-plaintext highlighter-rouge">127.0.0.1:5173</code> as well, given that the loopback IP is normally mapped to localhost. On macOS, if you <code class="language-plaintext highlighter-rouge">cat /etc/hosts</code>, you’ll see something like:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##
# Host Database
#
# localhost is used to configure the loopback interface
# when the system is booting.  Do not change this entry.
##
127.0.0.1	localhost
255.255.255.255	broadcasthost
::1             localhost
</code></pre></div></div>

<p>This shows that 127.0.0.1 is mapped to localhost. So what’s going? In Node.js 17, there was a <a href="https://nodejs.org/en/blog/release/v17.0.0#other-notable-changes">change to the order in which DNS lookup results were ordered</a> so that instead of re-ordering results to put IPv4 first, it now uses the OS’s results as-is. This means a Node.js 17+ server is binding to the IPv6 address instead of the IPv4, so you can access your site at the “weird” looking address of <code class="language-plaintext highlighter-rouge">http://[::1]:5173</code>.</p>

	</article>
</div>

</main>

        <footer class="footer row">
          <div class="col">
                <div class="footer--social">
                    <a class="footer--link buymeacoffee" href="https://www.buymeacoffee.com/mhead" target="_blank" title="Find anything useful or interesting on this site? Please, buy me a cup of coffee!"><img src="/images/icons/bmc-logo-yellow.png" alt="Buy Me A Coffee" ></a>
                    <a class="footer--link" href="http://github.com/headquarters"><img src="/images/icons/GitHub.png" alt="GitHub" /></a>
                    <a class="footer--link" href="http://linkedin.com/in/michaelehead"><img src="/images/icons/LinkedIn.png" alt="LinkedIn" /></a>
                </div>
                <section class="footer--blog-info">
                  <div class="footer--copyright">&copy; 2023</div>
                  <div class="footer--poweredby">Generated by <a href="http://jeykyllrb.com">Jekyll</a></div>
              </section>
              <a class="footer--go-to-top" href="#go-to-main">&uarr; Top</a>
          </div>
        </footer>
    </body>
</html>

